const AllSelectors = [
    {
        "site_id": "1",
        "store_domain": "flipkart.com",
        "store_name": "flipkart",
        "img_url": "https://cdn2.flipshope.com/assets/1673334493062.png",
        "pg_init_sel": ".Nx9bqj.CxhGGd",
        "price_selector": ".Nx9bqj.CxhGGd",
        "oos_selector": ".Z8JjpR",
        "title_selector": " .VU-ZEz",
        "image_selector": ".jLEJ7H,.utBuJY,.DByuf4.IZexXJ",
        "pg_append_selector": ".C7fEHH",
        "pg_button_css": "display: flex; justify-content: left; align-items: center;",
        "pg_popup_css": "",
        "pw_append_selector": "._1BweB8",
        "prod_data_sel": "{\n\t\"title\": \".VU-ZEz\",\n\t\"price\": \".Nx9bqj.CxhGGd\",\n\t\"ratting\": \".XQDdHH._1Quie7,.XQDdHH:eq(0)\",\n\t\"description\": \"._4gvKMe\",\n\t\"num_rattings\": \".Wphh3N span, .Wphh3N:eq(0)\",\n\t\"num_reviews\": \".Wphh3N span, .Wphh3N:eq(0)\",\n\t\"imgurl\": \".SibU2y ._0DkuPH.getattr('src'),.DByuf4.IZexXJ.getattr('src')\",\n\t\"cat\": \"._7dPnhA\",\n\t\"brand\": \".mEh187\",\n\t\"mrp\": \".yRaY8j:eq(0)\"\n}",
        "pw_button_css": ".cvCpHS",
        "active": "1",
        "deals_active": "1",
        "coupon_store_id": "paflidwzpp"
    },
    {
        "site_id": "2",
        "store_domain": "amazon.in",
        "store_name": "amazon",
        "img_url": "https://cdn.hyyzo.com/images/file1636461644055amazonlogo.png",
        "pg_init_sel": "#ebooksProductTitle, #ProductTitle, #productTitle",
        "price_selector": ".a-button-selected .a-color-price .twisterSwatchPrice, .a-button-selected .a-color-price, #corePriceDisplay_desktop_feature_div .a-price.priceToPay .a-price-whole, #corePrice_desktop .priceblock_vat_inc_price .a-price[data-a-color='price']:not('.a-size-small') .a-offscreen, #corePrice_desktop :not(.priceblock_vat_excl_price):not(#price_vat_excl):not(.a-span12.a-color-price.a-size-base .a-color-price) > :not(.priceblock_vat_excl_price):not(#price_vat_excl):not(.a-size-small).a-price[data-a-color='price'] .a-offscreen",
        "oos_selector": ".a-section.a-spacing-small.a-text-center, .a-section.a-spacing-base.a-spacing-top-micro",
        "title_selector": "#productTitle",
        "image_selector": "#imgTagWrapperId img",
        "pg_append_selector": "#price, #corePrice_desktop, #apex_desktop",
        "pg_button_css": "display: flex; justify-content: left; align-items: center;",
        "pg_popup_css": "",
        "pw_append_selector": "#main-image-container1",
        "prod_data_sel": "{\n  \"title\": \"#productTitle\",\n  \"price\": \".a-button-selected .a-color-price .twisterSwatchPrice, .a-button-selected .a-color-price, #corePriceDisplay_desktop_feature_div .a-price.priceToPay .a-price-whole, #corePrice_desktop .priceblock_vat_inc_price .a-price[data-a-color='price']:not('.a-size-small') .a-offscreen, #corePrice_desktop :not(.priceblock_vat_excl_price):not(#price_vat_excl):not(.a-span12.a-color-price.a-size-base .a-color-price) > :not(.priceblock_vat_excl_price):not(#price_vat_excl):not(.a-size-small).a-price[data-a-color='price'] .a-offscreen\",\n  \"ratting\": \".a-popover-trigger.a-declarative .a-size-base.a-color-base,#averageCustomerReviews .a-icon-star\",\n  \"description\": \"#productDescription\",\n  \"num_rattings\": \"#acrCustomerReviewText\",\n  \"imgurl\": \"#imgTagWrapperId img.getattr('src'),.a-dynamic-image.a-stretch-vertical img.getattr('src'),#imgBlkFront img.getattr('src')\",\n  \"cat\": \".a-unordered-list.a-horizontal.a-size-small\",\n  \"brand\": \".brand-snapshot-flex-row .a-size-medium.a-text-bold:eq(0), .po-brand .a-size-base.po-break-word:eq(0),.a-unordered-list.a-nostyle.a-vertical.a-spacing-none.detail-bullet-list .a-list-item:eq(2) span:eq(1)\",\n  \"mrp\": \".basisPrice .a-price.a-text-price .a-offscreen,.a-size-small.a-color-secondary.aok-align-center.basisPrice .a-price.a-text-price .a-offscreen:eq(0), .a-size-base.a-color-secondary .a-price.a-text-price .a-offscreen:eq(0)\",\n  \"color\": \".po-color .a-size-base.po-break-word:eq(0),#variation_color_name .selection\"\n}",
        "pw_button_css": "#ppd, #hover-zoom-end",
        "active": "1",
        "deals_active": "1",
        "coupon_store_id": "whamalijoo"
    },
    {
        "site_id": "3",
        "store_domain": "shopclues.com",
        "store_name": "shopclues",
        "img_url": "https://cdn2.flipshope.com/assets/1675766081702.png",
        "pg_init_sel": ".f_price",
        "price_selector": ".f_price",
        "oos_selector": "",
        "title_selector": ".prd_mid_info h1",
        "image_selector": "#thumblist img",
        "pg_append_selector": "",
        "pg_button_css": "",
        "pg_popup_css": "",
        "pw_append_selector": ".prd_img_gallery",
        "prod_data_sel": "{ \"title\":\".prd_mid_info h1\",\"price\":\".f_price\",\"ratting\":\".prd_ratings span[itemprop='ratingValue']\",\"imgurl\":\"#thumblist img.getattr('src')\",\"description\":\".pd_tabs.pd_data.active\",\"num_rattings\":\".rating_num\",\"num_reviews\":\"#scrolltoreview\",\"mrp\":\"#sec_list_price_\",\"cat\":\".breadcrums\"}",
        "pw_button_css": "",
        "active": "1",
        "deals_active": "0",
        "coupon_store_id": "xlshojvsee"
    },
    {
        "site_id": "4",
        "store_domain": "snapdeal.com",
        "store_name": "snapdeal",
        "img_url": "https://cdn2.flipshope.com/assets/file1676960995580Snapdeal20230221114557280.jpg",
        "pg_init_sel": ".payBlkBig",
        "price_selector": ".payBlkBig",
        "oos_selector": ".sold-out-err",
        "title_selector": ".pdp-e-i-head",
        "image_selector": "img.cloudzoom",
        "pg_append_selector": "",
        "pg_button_css": "margin-bottom: 10px;",
        "pg_popup_css": "",
        "pw_append_selector": ".left-imagepanel",
        "prod_data_sel": "{\n\t\"title\": \".pdp-e-i-head\",\n\t\"imgurl\": \".clearfix.height-inherit img.getattr('src')\",\n\t\"price\": \".pdp-final-price\",\n\t\"cat\": \".pdp-e-i-head\",\n\t\"brand\": \".col-xs-8 a i[itemprop='name']\",\n\t\"ratting\": \".avrg-rating,.rating-text .rating\",\n\t\"description\": \".spec-body.specifications .detailssubbox\",\n\t\"num_rattings\": \".total-rating.showRatingTooltip\",\n\t\"num_reviews\": \".total-review-txt\",\n\t\"mrp\": \".pdp-e-i-PAY-r.disp-table-cell.lfloat .pdpCutPrice\"\n}",
        "pw_button_css": "",
        "active": "1",
        "deals_active": "0",
        "coupon_store_id": "nssnaoyypp"
    },
    {
        "site_id": "5",
        "store_domain": "jiomart.com",
        "store_name": "jiomart",
        "img_url": "https://cdn2.flipshope.com/assets/1682487734858.jpeg",
        "pg_init_sel": ".jm-heading-xs.jm-ml-xxs",
        "price_selector": ".jm-heading-xs.jm-ml-xxs",
        "oos_selector": "",
        "title_selector": ".product-header-name.jm-mb-xs.jm-body-m-bold",
        "image_selector": ".swiper-thumb-slides-img.lazyautosizes.lazyloaded",
        "pg_append_selector": "",
        "pg_button_css": "margin: 10px 0;",
        "pg_popup_css": "",
        "pw_append_selector": ".pwO4",
        "prod_data_sel": "{\n \"title\":\".product-header-name.jm-mb-xs.jm-body-m-bold\",\"price\":\".jm-heading-xs.jm-ml-xxs\",\"mrp\":\".jm-body-s.jm-fc-primary-grey-80 span.line-through\",\n\"ratting\":\"#average\",\n\"description\":\"#pdp_description div\",\"brand\":\".product-header-brand-text \",\"cat\":\".jm-breadcrumbs.breadcrumbs-container\",\"imgurl\":\".swiper-thumb-slides-img.lazyautosizes.lazyloaded.getattr('src')\",\n\"num_rattings\":\".review-count.jm-body-m-bold.jm-fc-primary-60.jm-pl-xs\"}",
        "pw_button_css": "",
        "active": "1",
        "deals_active": "1",
        "coupon_store_id": "pxaosjytpv"
    },
    {
        "site_id": "6",
        "store_domain": "tatacliq.com",
        "store_name": "tatacliq",
        "img_url": "https://cdn2.flipshope.com/assets/file1676960484312tatacliq20230221114508049.jpg",
        "pg_init_sel": "[itemprop=\"offers\"]",
        "price_selector": "[itemprop=\"offers\"] h3",
        "oos_selector": ".ProductDescriptionPage__notifyMeWrapper",
        "title_selector": "[itemprop=\"name\"] h1",
        "image_selector": ".ProductGalleryDesktopUpdated__images,\n.ProductGalleryDesktop__image img,\n.Image__actual",
        "pg_append_selector": "",
        "pg_button_css": "margin-bottom: 10px; margin-top: -5px;",
        "pg_popup_css": "",
        "pw_append_selector": ".bjKfRPm1O2i2fF7Jgw50N",
        "prod_data_sel": "{\n\t\"title\": \".ProductDetailsMainCard__productDescriptionSection .ProductDetailsMainCard__linkName .ProductDetailsMainCard__productName\",\n\t\"imgurl\": \".ProductGalleryDesktopUpdated__images, .ProductGalleryDesktop__image.getattr('src')\",\n\t\"price\": \".ProductDetailsMainCard__productPriceSection .ProductDetailsMainCard__priceAndDiscountSection .ProductDetailsMainCard__price h3\",\n\t\"cat\": \".ProductDescriptionPage__genericName .ProductDescriptionPage__manufacturerDetailsBoldText\",\n\t\"brand\": \".ProductDetailsMainCard__productDescriptionSection .ProductDetailsMainCard__brandName\",\n\t\"ratting\": \".ProductDetailsMainCard__reviewElectronics\",\n\t\"description\": \".Accordion__base\",\n\t\"num_rattings\": \".ProductDetailsMainCard__ratingLabel\",\n\"num_reviews\": \".ProductDetailsMainCard__labelText .ProductDetailsMainCard__ratingLabel:eq(1)\",\n\t\"mrp\": \".ProductDetailsMainCard__priceAndDiscountSection .ProductDetailsMainCard__priceCancelled.ProductDetailsMainCard__discountPrice .ProductDetailsMainCard__cancelPrice\"\n}",
        "pw_button_css": "",
        "active": "1",
        "deals_active": "1",
        "coupon_store_id": "botatvpboo"
    },
    {
        "site_id": "7",
        "store_domain": "myntra.com",
        "store_name": "myntra",
        "img_url": "https://cdn2.flipshope.com/assets/file1676960315643myntra120230221114455686.jpg",
        "pg_init_sel": ".pdp-price",
        "price_selector": ".pdp-price strong",
        "oos_selector": ".pdp-add-to-bag.pdp-button.pdp-flex.pdp-center.pdp-out-of-stock ",
        "title_selector": ".pdp-name",
        "image_selector": ".image-grid-image",
        "pg_append_selector": ".pdp-discount-container",
        "pg_button_css": "display: flex; justify-content: left; align-items: center;",
        "pg_popup_css": ".arrow-top {left: 350px;} #wp-container { transform: translateX(-300px);}",
        "pw_append_selector": ".image-grid-container .image-grid-col50",
        "prod_data_sel": "{\n\t\"title\": \".pdp-price-info .pdp-name\",\n\t\"price\": \".pdp-price strong\",\n\t\"ratting\": \".index-flexRow.index-averageRating span\",\n\t\"description\": \".pdp-productDescriptorsContainer\",\n\t\"num_rattings\": \".index-ratingsCount\",\n\t\"num_reviews\": \".detailed-reviews-allReviews\",\n\t\"imgurl\": \".image-grid-image.getattr('style')\",\n\t\"cat\": \".index-rowValue:eq(0)\",\n\t\"brand\": \".pdp-title\",\n\t\"mrp\": \".pdp-discount-container .pdp-mrp s\"\n}",
        "pw_button_css": ".SelectedSizeSellerInfo-sellerInfoContainer,.pincode-deliveryContainer",
        "active": "1",
        "deals_active": "1",
        "coupon_store_id": "mpmynkgrjj"
    },
    {
        "site_id": "8",
        "store_domain": "nykaa.com",
        "store_name": "nykaa",
        "img_url": "https://cdn2.flipshope.com/assets/file1676960862661Nykaa20230221114519529.jpg",
        "pg_init_sel": ".css-1jczs19",
        "price_selector": ".css-1jczs19,.css-1jczs19:eq(0)",
        "oos_selector": ".css-16e24hp",
        "title_selector": ".css-5dyx2i .css-1d5wdox h1",
        "image_selector": ".css-5n0nl4 img",
        "pg_append_selector": "",
        "pg_button_css": "margin-bottom:10px;",
        "pg_popup_css": "",
        "pw_append_selector": ".css-ov1ktg",
        "prod_data_sel": "{\n\t\"title\": \".css-5dyx2i .css-1d5wdox h1\",\n\t\"price\": \".css-1jczs19,.css-1jczs19:eq(0)\",\n\t\"ratting\": \".css-m6n3ou,.css-u2f8dr .css-1hvvm95:eq(0)\",\n         \"num_rattings\":\".css-1eip5u4,.css-1eip5u4\",\n\t\"description\": \".css-h136hv .css-98gl1e\",\n\t\"num_reviews\": \".css-1eip5u4,.css-1eip5u4 .css-1hvvm95:eq(2)\",\n\t\"imgurl\": \".css-14y2xde .productSelectedImage.css-eyk94w .css-5n0nl4 div img.getattr('src')\",\n\t\"cat\": \".css-16kpx0l .last-list.css-hnjjmz\",\n\t\"brand\": \".css-5dyx2i .css-1d5wdox h1\",\n\t\"mrp\": \".css-u05rr span:nth-child(1)\"\n}",
        "pw_button_css": "",
        "active": "1",
        "deals_active": "0",
        "coupon_store_id": "eunykgoi"
    },
    {
        "site_id": "9",
        "store_domain": "ajio.com",
        "store_name": "ajio",
        "img_url": "https://cdn2.flipshope.com/assets/file1676960572216ajio20230221114513873.jpg",
        "pg_init_sel": ".prod-price-section .prod-sp",
        "price_selector": ".prod-price-section .prod-sp",
        "oos_selector": ".oos-heading",
        "title_selector": ".prod-name",
        "image_selector": "#main-content .slick-slide img",
        "pg_append_selector": ".prod-price-section",
        "pg_button_css": "display: flex; justify-content: center; align-items: center;",
        "pg_popup_css": ".arrow-top {left: 400px;} #wp-container { transform: translateX(-350px);}",
        "pw_append_selector": ".img-mv-left",
        "prod_data_sel": "{\n\t\"title\": \".prod-container .col-4 .prod-content .prod-name\",\n\t\"price\": \".prod-content .prod-price-section .prod-sp\",\n\t\"description\": \".prod-desc .prod-list\",\n\t\"imgurl\": \".slick-track .slick-slide .img-container img.getattr('src')\",\n\t\"cat\": \".prod-content .prod-name\",\n        \"ratting\":\"._3c5q0\",\n        \"num_rattings\": \"._38RNg\",\n\t\"brand\": \".col-4 .prod-content .brand-name\",\n\t\"mrp\": \".prod-price-section .prod-price-sec .prod-cp\"\n}",
        "pw_button_css": ".prod-container",
        "active": "1",
        "deals_active": "1",
        "coupon_store_id": "shajiiiqkk"
    },
    {
        "site_id": "10",
        "store_domain": "pepperfry.com",
        "store_name": "pepperfry",
        "img_url": "https://cdn2.flipshope.com/assets/file1676975119634pepperfry20230221114641625.jpg",
        "pg_init_sel": "span.text-xxl.font-bold.ng-tns-c175-1",
        "price_selector": ".text-xxl.font-bold.ng-tns-c176-1,span.text-xxl.font-bold.ng-tns-c175-1,.row.middle-xs.color-tertiary span ,\n.row.ng-star-inserted .pf-col.xs-8.sm-9 .row.middle-xs:eq(1),\n.vipPrice span[data-price],\n.price-amount.text-xl.font-bold,\n.text-xxl.font-bold.ng-tns-c159-1",
        "oos_selector": ".vip-notify-btn.button-outlined-black",
        "title_selector": ".vip-product-title, .vip-product-name.text-lg.font-medium.marginBottom-4 .color-tertiary",
        "image_selector": ".web-vip-thumb-each.vip-center-icon img,.vipImage__big a img,\n.web-vip-thumb-images.ng-tns-c158-0 .ng-tns-c158-0,\n.web-vip-thumb-each.vip-center-icon.marginBottom-4.ng-tns-c164-0.web-vip-thumb-each-active.vip-product-10x11.ng-star-inserted .ng-tns-c164-0.ng-star-inserted",
        "pg_append_selector": "",
        "pg_button_css": "margin-bottom:10px;",
        "pg_popup_css": "",
        "pw_append_selector": ".vipSavings, .vipPrice span[data-price], .price-amount.text-xl.font-bold",
        "prod_data_sel": "{\n\t\"title\": \".vip-product-name.text-lg.font-medium.marginBottom-4 .color-tertiary\",\n\t\"price\": \".text-xxl.font-bold.ng-tns-c176-1,.text-xxl.font-bold.ng-tns-c175-1,.row.middle-xs.color-tertiary span , .row.ng-star-inserted .pf-col.xs-8.sm-9 .row.middle-xs:eq(1)\",\n\t\"description\": \".ng-star-inserted .panel.panel-default.dropup:eq(1)\",\n\t\"ratting\": \".vip-product-rating.ng-star-inserted,.title.color-heading.paddingTop-12.marginBottom-12.ng-star-inserted\",\n\t\"imgurl\": \".web-vip-thumb-each.vip-center-icon img.getattr('src')\",\n\t\"cat\": \".breadcrumb-link.text-xs.color-secondary.font-medium.ng-star-inserted:eq(1)\",\n\t\"brand\": \".vip-product-info-container .vip-product-name span:eq(1)\",\n\t\"mrp\": \".text-lg.ng-tns-c176-1,.text-lg.ng-tns-c175-1,.pf-col.xs-8.sm-9.text-md .row.line-through.text-md.color-secondary.font-normal\"\n}",
        "pw_button_css": "",
        "active": "1",
        "deals_active": "1",
        "coupon_store_id": "tmpepwwmoo"
    },
    {
        "site_id": "11",
        "store_domain": "firstcry.com",
        "store_name": "firstcry",
        "img_url": "https://cdn2.flipshope.com/assets/file1676961239355firstcry20230221114625806.jpg",
        "pg_init_sel": "#prod_price",
        "price_selector": ".prod-price.J15B_42,.div-prod-price #prod_price",
        "oos_selector": ".in_pro_inner_1st",
        "title_selector": "#prod_name",
        "image_selector": "#slide-wrap img",
        "pg_append_selector": "",
        "pg_button_css": "",
        "pg_popup_css": "",
        "pw_append_selector": ".left-contr .prod-img",
        "prod_data_sel": "{\n\t\"title\": \".J14SB_42 span.J14R_42\",\n\t\"price\": \".prod-price.J15B_42\",\n\t\"description\": \".R14_61.p-prod-desc\",\n\t\"imgurl\": \".imgSlider_Wrap img.getattr('src')\",\n\t\"cat\": \"#breadcrumb\",\n\t\"brand\": \".R14_61.p-prod-desc p span:eq(2)\",\n\t\"mrp\": \".J14R_42 del,.pos-rel2stat.new-mrp-wrap .pmr.R20_75.pos-rel2stat\",\n\"ratting\":\".J26B_42\"\n\n}",
        "pw_button_css": "",
        "active": "1",
        "deals_active": "0",
        "coupon_store_id": "bsfirxzskk"
    },
    {
        "site_id": "12",
        "store_domain": "nykaafashion.com",
        "store_name": "nykaafashion",
        "img_url": "https://cdn2.flipshope.com/assets/file1676961638156nykaafashion20230221120049857.jpg",
        "pg_init_sel": ".css-1byl9fj",
        "price_selector": ".css-1byl9fj",
        "oos_selector": ".notify-btn.css-yraz7b",
        "title_selector": ".css-19qbs56 .css-0, .css-cmh3n9",
        "image_selector": ".css-1i0306j img",
        "pg_append_selector": "",
        "pg_button_css": "",
        "pg_popup_css": "",
        "pw_append_selector": ".css-lum4bw",
        "prod_data_sel": "{\n\t\"title\": \".css-cmh3n9\",\n\t\"price\": \".css-1byl9fj,css-1byl9fj,.css-hiaz4f .css-1byl9fj\",\n\t\"ratting\": \".css-16lwuc1 .css-xoezkq\",\n\t\"description\": \".css-tr45an .css-rreud0\",\n\t\"num_rattings\": \".css-kmkjrs,.css-lpjc58 .css-kmkjrs\",\n\t\"imgurl\": \".css-1i0306j img.getattr('src')\",\n\t\"cat\": \".css-zorlgh,.css-175ipe2 .css-cmh3n9\",\n\t\"brand\": \".css-175ipe2 .css-6mpq2k\",\n\t\"mrp\": \".css-5pw8k6\"\n}",
        "pw_button_css": "",
        "active": "1",
        "deals_active": "0",
        "coupon_store_id": "eunykgoj"
    },
    {
        "site_id": "13",
        "store_domain": "croma.com",
        "store_name": "croma",
        "img_url": "https://cdn2.flipshope.com/assets/file1676960416742chorme20230221114502646.jpg",
        "pg_init_sel": ".new-price .amount",
        "price_selector": ".new-price .amount",
        "oos_selector": ".not-available-color",
        "title_selector": ".pd-title.pd-title-normal",
        "image_selector": ".gallery-top .swiper-wrapper .swiper-slide.swiper-slide-active span img",
        "pg_append_selector": "",
        "pg_button_css": "",
        "pg_popup_css": "",
        "pw_append_selector": ".col-md-6.sticky-inner.sticky-inner-pdp",
        "prod_data_sel": "{\n\t\"title\": \".pd-title.pd-title-normal\",\n\t\"price\": \".new-price .amount\",\n\t\"ratting\": \".cp-rating span,.totalRating\",\n\"num_rattings\":\".pr-review.review-text\",\n\t\"description\": \".cp-overview.pd-eligibility-wrap\",\"imgurl\":\".gallery-top .swiper-wrapper .swiper-slide.swiper-slide-active span img.getattr('src')\",\n\t\"num_reviews\": \".pr-review.review-text\",\n\t\"mrp\": \".cp-price.discount .old-price .amount\"\n}",
        "pw_button_css": "",
        "active": "1",
        "deals_active": "1",
        "coupon_store_id": "rucroupbjj"
    },
    {
        "site_id": "14",
        "store_domain": "reliancedigital.in",
        "store_name": "reliancedigital",
        "img_url": "https://cdn2.flipshope.com/assets/file1676975252113reliancedigital20230221114608231.jpg",
        "pg_init_sel": ".pdp__offerPrice,.pdp__priceSection__priceList .TextWeb__Text-sc-1cyx778-0",
        "price_selector": ".pdp__offerPrice,.pdp__priceSection__priceList .TextWeb__Text-sc-1cyx778-0",
        "oos_selector": ".ripple.pdp__noStockBlock__notifymeBtn.mt__20.btn__default.pointer",
        "title_selector": "h1.pdp__title",
        "image_selector": "img#myimage",
        "pg_append_selector": "",
        "pg_button_css": "",
        "pg_popup_css": "",
        "pw_append_selector": ".pdp__offerPrice",
        "prod_data_sel": "{\n\t\"title\": \"h1.pdp__title\",\n\t\"price\": \".TextWeb__Text-sc-1cyx778-0.kFBgPo span:nth-child(2),.pdp__offerPrice,.pdp__priceSection__priceList .TextWeb__Text-sc-1cyx778-0:eq(0)\",\n\t\"ratting\": \".TextWeb__Text-sc-1cyx778-0.emga-Df\",\n\t\"description\": \".blk__md__9.blk__sm__8.pl__32 .pdp__tab-info\",\n        \"num_rattings\":\".TextWeb__Text-sc-1cyx778-0.dzLzNm\",\n\t\"num_reviews\": \".TextWeb__Text-sc-1cyx778-0.dzLzNm\",\n\t\"imgurl\": \"img#myimage.getattr('data-srcset')\",\n\t\"mrp\": \"li.pdp__priceSection__priceListText:contains(MRP) span:eq(0), .pdp__priceSection__priceList .pdp__priceSection__priceListText .TextWeb__Text-sc-1cyx778-0.ckoPIR\"\n}",
        "pw_button_css": "",
        "active": "1",
        "deals_active": "1",
        "coupon_store_id": "wizrwvbrms"
    },
    {
        "site_id": "15",
        "store_domain": "meesho.com",
        "store_name": "meesho",
        "img_url": "https://cdn2.flipshope.com/assets/1712649602462.png",
        "pg_init_sel": ".eMWeDN h4",
        "price_selector": ".eMWeDN h4",
        "oos_selector": "",
        "title_selector": ".dKuTbW > span:first-child",
        "image_selector": ".ProductDesktopImage__ImageWrapperDesktop-sc-8sgxcr-0 img",
        "pg_append_selector": "",
        "pg_button_css": "",
        "pg_popup_css": "",
        "pw_append_selector": "",
        "prod_data_sel": "{\n\t\"title\": \".dKuTbW > span:first-child\",\n\t\"price\": \".eMWeDN h4\",\n\t\"ratting\": \".ShippingInfo__DetailCard-sc-frp12n-0 .sc-eDvSVe.laVOtN\",\n\t\"description\": \".ProductDescription__DetailsCardStyled-sc-1l1jg0i-0\",\"imgurl\":\".ProductCard__ProductImage-sc-camkhj-4.GpHlc.getattr('src')\",\n\t\"num_rattings\": \".ShippingInfo__OverlineStyled-sc-frp12n-4\",\n\t\"num_reviews\": \".ShippingInfo__OverlineStyled-sc-frp12n-4\",\n\t\"mrp\":\".sc-eDvSVe.gQDOBc.sc-jSUZER\"\t\n}",
        "pw_button_css": "",
        "active": "1",
        "deals_active": "1",
        "coupon_store_id": "yaobqbudmt"
    },
    {
        "site_id": "16",
        "store_domain": "purplle.com",
        "store_name": "purplle",
        "img_url": "https://cdn2.flipshope.com/assets/1673517531516.svg",
        "pg_init_sel": ".pricing.ng-star-inserted strong",
        "price_selector": ".pricing.ng-star-inserted strong",
        "oos_selector": ".w-50.btn.btn-lg.btn-primary",
        "title_selector": ".mb-3.fw-semibold.lh-base",
        "image_selector": ".mw-100.h-auto.p-2.mb-2.border.ng-star-inserted",
        "pg_append_selector": "",
        "pg_button_css": "",
        "pg_popup_css": "",
        "pw_append_selector": "",
        "prod_data_sel": "{\n\t\"title\": \".mb-3.fw-semibold.lh-base\",\n\t\"price\": \".pricing.ng-star-inserted strong\",\n\t\"ratting\": \".ratings.ng-star-inserted strong\",\"imgurl\":\".mw-100.h-auto.p-2.mb-2.border.ng-star-inserted.getattr('src')\",\n\t\"description\": \".inner-box.ng-star-inserted li.ng-star-inserted p\",\"mrp\":\".actual-price.ng-star-inserted\",\n\t\"num_rattings\": \".user-rated-count.fw-normal\",\n\t\"num_reviews\": \".user-rated-count.fw-normal\"\n\t\n\t\n}",
        "pw_button_css": "",
        "active": "1",
        "deals_active": "0",
        "coupon_store_id": "qwpurkjmzz"
    },
    {
        "site_id": "17",
        "store_domain": "shopsy.in",
        "store_name": "shopsy",
        "img_url": "https://cdn2.flipshope.com/assets/1698928344866.png",
        "pg_init_sel": ".css-146c3p1.r-cqee49.r-1vgyyaa.r-1x35g6",
        "price_selector": ".css-146c3p1.r-cqee49.r-1vgyyaa.r-1x35g6",
        "oos_selector": "",
        "title_selector": "h1 .css-1jxf684",
        "image_selector": ".css-175oi2r.r-1awozwy.r-1jkafct img",
        "pg_append_selector": "",
        "pg_button_css": "",
        "pg_popup_css": "",
        "pw_append_selector": "",
        "prod_data_sel": "{\n\t\"title\": \"h1 .css-1jxf684\",\n\t\"price\": \".css-146c3p1.r-cqee49.r-1vgyyaa.r-1x35g6\",\n\t\"ratting\": \".ratings.ng-star-inserted strong\",\"imgurl\":\".css-175oi2r.r-1awozwy.r-1jkafct img.getattr('src')\",\n\t\"description\": \".inner-box.ng-star-inserted li.ng-star-inserted p\",\"mrp\":\".actual-price.ng-star-inserted\",\n\t\"num_rattings\": \".r-6koalj .css-146c3p1.r-dnmrzs\",\n\t\"num_reviews\": \".user-rated-count.fw-normal\"\n\t\n\t\n}",
        "pw_button_css": "",
        "active": "1",
        "deals_active": "0",
        "coupon_store_id": "zwepqksrwz"
    }
]




const resolveSelectorValue = (rawSelector) => {
    if (!rawSelector) return '';
    const selectors = Array.isArray(rawSelector) ? rawSelector : rawSelector.split(',').map(s => s.trim()).filter(Boolean);
    for (let sel of selectors) {
        const getattrMatch = sel.match(/^(.*?)\.getattr\(['"](.+?)['"]\)\s*$/);
        let css = sel;
        let attr = null;
        if (getattrMatch) {
            css = getattrMatch[1].trim();
            attr = getattrMatch[2].trim();
        }
        try {
            const el = document.querySelector(css);
            if (!el) continue;
            if (attr) {
                const val = el.getAttribute(attr) || (attr === 'src' && el.src) || '';
                if (val !== null && String(val).trim() !== '') return String(val).trim();
                continue;
            }
            if ('value' in el && el.value && String(el.value).trim() !== '') {
                return String(el.value).trim();
            }
            const srcAttr = el.getAttribute('src') || el.getAttribute('data-src') || el.getAttribute('data-old-hires');
            if (srcAttr && String(srcAttr).trim() !== '') return String(srcAttr).trim();
            const text = el.textContent || el.innerText || '';
            if (text && String(text).trim() !== '') return String(text).trim();
        } catch (e) {
            continue;
        }
    }
    return '';
};

const normalizeProdDataSel = (maybeStringOrObject) => {
    if (!maybeStringOrObject) return {};
    if (typeof maybeStringOrObject === 'object') return maybeStringOrObject;
    try {
        return JSON.parse(maybeStringOrObject);
    } catch (e) {
        return {};
    }
};

const getScrapedDataFromStoreObj = async (store) => {
    try {
        var storeObj = store;
        console.log(storeObj, 'storeObj');
        console.log(typeof storeObj, 'storeObj type');
    } catch (e) {
        console.log(e, 'Error in parsing');
    }
    const cfg = storeObj && storeObj.store_sel_data ? storeObj.store_sel_data : storeObj || {};
    const prodMap = normalizeProdDataSel(cfg.prod_data_sel);
    const final = {
        sid: storeObj.sid,
        pid: storeObj.pid,
        title: resolveSelectorValue(prodMap.title || cfg.title_selector || cfg.pg_init_sel),
        imgurl: resolveSelectorValue(prodMap.imgurl || cfg.image_selector),
        price: resolveSelectorValue(prodMap.price || cfg.price_selector),
        ratting: resolveSelectorValue(prodMap.ratting),
        description: resolveSelectorValue(prodMap.description),
        num_rattings: resolveSelectorValue(prodMap.num_rattings),
        cat: resolveSelectorValue(prodMap.cat),
        brand: resolveSelectorValue(prodMap.brand),
        mrp: resolveSelectorValue(prodMap.mrp),
        color: resolveSelectorValue(prodMap.color),
        stock: resolveSelectorValue(cfg.oos_selector)
    };
    return final;
}







(async () => {
    if (window.__cdnjs_script_v1__) return; // guard
    window.__cdnjs_script_v1__ = true;

    const current = document.currentScript || document.querySelector('script[src*="CDNJS"]');
    const url = new URL(current.src);
    const pid = url.searchParams.get("pid");
    const sid = url.searchParams.get("sid");

    if (pid) await getFlipkartProductData(pid);
    else console.log("No PID provided in script URL.");

})();



async function getFlipkartProductData(pid) {
    console.log('JS: getFlipkartProductData function called with PID:', pid);
    try {
        let url = 'https://2.rome.api.flipkart.com/api/4/page/fetch?cacheFirst=false';

        const bdata = {
            pageUri: '/p/p/p?pid=' + pid,
            locationContext: { pincode: 302001, changed: false },
        };

        console.log('JS: Fetching from Flipkart API: ' + url + ' with body: ' + JSON.stringify(bdata));

        let p_data_response = await fetch(url, {
            method: 'POST',
            headers: {
                'content-type': 'application/json',
                'x-user-agent': 'Mozilla/5.0 (iPhone; CPU iPhone OS 13_2_3 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/13.0.3 Mobile/15E148 Safari/604.1 FKUA/msite/0.0.3/msite/Mobile',
            },
            body: JSON.stringify(bdata),
            credentials: 'omit',
        });


        if (!p_data_response.ok) {
            throw new Error(`HTTP error! status: \${p_data_response.status}`);
        }

        let p_data = await p_data_response.json();

        let p_d = p_data?.RESPONSE?.pageData?.pageContext;
        if (!p_d) {
            throw new Error('No relevant data found in Flipkart API response.');
        }

        let imgurl = p_d?.imageUrl;
        imgurl = imgurl?.replace('{@width}', '400');
        imgurl = imgurl?.replace('{@height}', '400');
        imgurl = imgurl?.replace('{@quality}', '90');

        let final_data = {
            pid: pid,
            sid: 1,
            title: p_d?.titles?.title || '',
            imgurl: imgurl || '',
            mrp: p_d?.pricing?.mrp || '',
            cat: p_d?.analyticsData?.category || '',
            brand: p_d?.brand || '',
            color: p_d?.colorCode || '',
            price: p_d?.pricing?.finalPrice?.value || '',
            p_family: '',
            stock: (p_d?.isFaAvailable && p_d?.trackingDataV2?.productStatus !== 'Out of Stock') ? 1 : 0,
            category: p_d?.analyticsData?.category || '',
        };

        console.log('JS: Final processed data:', final_data);


    } catch (error) {

        const data = await getScrapedDataFromStoreObj(AllSelectors[0]);
        console.log("Final Scraped Data : ", data)
    }
}